# 智能文档自动排版系统 - 增强版依赖项
# 版本: 2.1.0
# 更新日期: 2024-12-28

# ============================================================================
# 核心框架
# ============================================================================

# PocketFlow 核心框架（本地包）
# pocketflow>=1.0.0

# ============================================================================
# 异步和Web框架
# ============================================================================
fastapi>=0.108.0,<1.0.0          # 现代Web框架
uvicorn[standard]>=0.25.0,<1.0.0  # ASGI服务器
websockets>=12.0,<13.0            # WebSocket支持
aiofiles>=23.2.0,<24.0.0          # 异步文件操作
aiohttp>=3.9.0,<4.0.0             # 异步HTTP客户端

# ============================================================================
# AI和LLM服务
# ============================================================================
openai>=1.6.0,<2.0.0              # OpenAI API客户端
anthropic>=0.8.0,<1.0.0           # Claude API客户端（可选）

# ============================================================================
# 数据处理和验证
# ============================================================================
pydantic>=2.5.0,<3.0.0            # 数据验证
pydantic-settings>=2.1.0,<3.0.0   # 设置管理
validators>=0.22.0,<1.0.0         # 数据验证工具

# ============================================================================
# 文档处理
# ============================================================================
markdown>=3.5.2,<4.0.0            # Markdown解析
python-multipart>=0.0.6,<1.0.0    # 多部分表单支持
beautifulsoup4>=4.12.0,<5.0.0     # HTML解析
lxml>=4.9.0,<5.0.0                # XML解析

# ============================================================================
# 图像处理
# ============================================================================
Pillow>=10.1.0,<11.0.0            # 图像处理库

# ============================================================================
# 数据库和缓存
# ============================================================================
redis>=5.0.0,<6.0.0               # Redis缓存
aioredis>=2.0.0,<3.0.0            # 异步Redis客户端

# ============================================================================
# 工具库
# ============================================================================
pyyaml>=6.0.1,<7.0.0              # YAML处理
python-dotenv>=1.0.0,<2.0.0       # 环境变量管理
httpx>=0.26.0,<1.0.0              # 现代HTTP客户端
jinja2>=3.1.0,<4.0.0              # 模板引擎
click>=8.1.0,<9.0.0               # 命令行工具

# ============================================================================
# 系统监控和性能
# ============================================================================
psutil>=5.9.6,<6.0.0              # 系统监控
memory-profiler>=0.61.0,<1.0.0    # 内存分析

# ============================================================================
# 日志和调试
# ============================================================================
structlog>=23.2.0,<24.0.0         # 结构化日志
rich>=13.7.0,<14.0.0              # 终端美化
colorama>=0.4.6,<1.0.0            # 终端颜色（Windows）

# ============================================================================
# 文档格式转换（可选）
# ============================================================================
pypdf>=3.17.0,<4.0.0              # PDF处理
python-docx>=1.1.0,<2.0.0         # Word文档
python-pptx>=0.6.23,<1.0.0        # PowerPoint
weasyprint>=61.0,<62.0            # HTML到PDF转换（可选）

# ============================================================================
# 向量数据库（可选）
# ============================================================================
chromadb>=0.4.22,<1.0.0           # 向量数据库
faiss-cpu>=1.7.4,<2.0.0           # 向量搜索
sentence-transformers>=2.2.0,<3.0.0  # 文本嵌入

# ============================================================================
# 额外的LLM提供商（可选）
# ============================================================================
google-generativeai>=0.3.0,<1.0.0   # Google Gemini（可选）
cohere>=4.40.0,<5.0.0             # Cohere（可选）

# ============================================================================
# 开发和测试工具（开发时需要）
# ============================================================================
pytest>=7.4.3,<8.0.0              # 测试框架
pytest-asyncio>=0.21.1,<1.0.0     # 异步测试
pytest-cov>=4.1.0,<5.0.0          # 覆盖率测试

# ============================================================================
# 代码质量工具（开发时需要）
# ============================================================================
black>=23.12.0,<24.0.0            # 代码格式化
isort>=5.13.0,<6.0.0              # 导入排序
flake8>=7.0.0,<8.0.0              # 代码检查
mypy>=1.8.0,<2.0.0                # 类型检查

# ============================================================================
# 部署相关（生产环境）
# ============================================================================
gunicorn>=21.2.0,<22.0.0          # WSGI服务器
supervisor>=4.2.0,<5.0.0          # 进程管理（可选）

# ============================================================================
# 网络和安全
# ============================================================================
certifi>=2023.11.17               # SSL证书
urllib3>=2.1.0,<3.0.0            # HTTP库
requests>=2.31.0,<3.0.0          # HTTP请求

# ============================================================================
# 数据科学和分析（可选）
# ============================================================================
numpy>=1.24.0,<2.0.0             # 数值计算
pandas>=2.1.0,<3.0.0             # 数据分析（可选）

# ============================================================================
# 注意事项
# ============================================================================
# 1. 所有版本都指定了合理的范围，确保兼容性
# 2. 标记为"可选"的包可以根据需要安装
# 3. 开发工具仅在开发环境中需要
# 4. 某些包可能需要额外的系统依赖
# 5. weasyprint 需要系统级的 Cairo/Pango 库

# ============================================================================
# 安装说明
# ============================================================================
# 基础安装：
# pip install -r requirements_enhanced.txt

# 最小安装（仅核心功能）：
# pip install fastapi uvicorn openai pydantic markdown Pillow pyyaml python-dotenv

# 完整安装（包含所有可选功能）：
# pip install -r requirements_enhanced.txt --extra-index-url https://download.pytorch.org/whl/cpu